<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36" version="29.0.3">
  <diagram name="AWS S3 to Azure Blob via ADF" id="aws-azure-data-transfer">
    <mxGraphModel dx="1185" dy="657" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="AWS S3 to Azure Blob Storage - Data Transfer Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="20" width="800" height="40" as="geometry" />
        </mxCell>
        <mxCell id="aws-s3" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.bucket;" parent="1" vertex="1">
          <mxGeometry x="80" y="300" width="100" height="104" as="geometry" />
        </mxCell>
        <mxCell id="aws-s3-label" value="&lt;b&gt;AWS S3 Bucket&lt;/b&gt;&lt;br&gt;(Source)&lt;br&gt;CSV Files with&lt;br&gt;Folder Structure" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="60" y="420" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="internet" value="" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="280" y="290" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="internet-label" value="&lt;b&gt;Internet&lt;/b&gt;&lt;br&gt;Data Transfer&lt;br&gt;over HTTPS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="310" y="330" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="adf-container" value="&lt;b style=&quot;font-size: 16px&quot;&gt;Azure Data Factory&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;fontSize=16;align=center;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="540" y="140" width="480" height="440" as="geometry" />
        </mxCell>
        <mxCell id="s3-linked-service" value="&lt;b&gt;AWS S3&lt;br&gt;Linked Service&lt;/b&gt;&lt;br&gt;Authentication:&lt;br&gt;Access Key + Secret" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="570" y="190" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="blob-linked-service" value="&lt;b&gt;Azure Blob&lt;br&gt;Linked Service&lt;/b&gt;&lt;br&gt;Authentication:&lt;br&gt;Account Key" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="850" y="190" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="pipeline" value="&lt;b&gt;Pipeline&lt;/b&gt;&lt;br&gt;Trigger: Manual&lt;br&gt;Retry: 4 attempts" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="660" y="300" width="240" height="70" as="geometry" />
        </mxCell>
        <mxCell id="copy-activity" value="&lt;b&gt;Copy Activity&lt;/b&gt;&lt;br&gt;Copy CSV Files&lt;br&gt;Preserve Folder Structure" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="660" y="400" width="240" height="70" as="geometry" />
        </mxCell>
        <mxCell id="source-dataset" value="&lt;b&gt;Source Dataset&lt;/b&gt;&lt;br&gt;S3 CSV Files&lt;br&gt;/*.csv" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="570" y="495" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="sink-dataset" value="&lt;b&gt;Sink Dataset&lt;/b&gt;&lt;br&gt;Blob CSV Files&lt;br&gt;Same Structure" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="850" y="495" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="azure-blob" value="" style="aspect=fixed;html=1;points=[];align=center;image;fontSize=12;image=img/lib/azure2/storage/Storage_Accounts.svg;" parent="1" vertex="1">
          <mxGeometry x="1120" y="310" width="90" height="72" as="geometry" />
        </mxCell>
        <mxCell id="azure-blob-label" value="&lt;b&gt;Azure Blob Storage&lt;/b&gt;&lt;br&gt;(Destination)&lt;br&gt;CSV Files with&lt;br&gt;Preserved Structure" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1090" y="400" width="150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="key-vault" value="" style="aspect=fixed;html=1;points=[];align=center;image;fontSize=12;image=img/lib/azure2/security/Key_Vaults.svg;" parent="1" vertex="1">
          <mxGeometry x="1120" y="140" width="68" height="68" as="geometry" />
        </mxCell>
        <mxCell id="key-vault-label" value="&lt;b&gt;Azure Key Vault&lt;/b&gt;&lt;br&gt;Stores AWS&lt;br&gt;Access Key &amp;amp; Secret" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1094" y="210" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="arrow1" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#6c8ebf;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="aws-s3" target="internet" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="180" y="352" as="sourcePoint" />
            <mxPoint x="280" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow1-label" value="1. Read CSV Files" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#0066CC;" parent="arrow1" vertex="1" connectable="0">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint x="5" y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow2" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#6c8ebf;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="internet" target="pipeline" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="350" as="sourcePoint" />
            <mxPoint x="660" y="335" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow2-label" value="2. Data Transfer" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#0066CC;" parent="arrow2" vertex="1" connectable="0">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint x="10" y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow3" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#9673a6;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;dashed=1;" parent="1" source="key-vault" target="s3-linked-service" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1120" y="174" as="sourcePoint" />
            <mxPoint x="710" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow3-label" value="Retrieve Credentials" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=9;fontColor=#9673a6;" parent="arrow3" vertex="1" connectable="0">
          <mxGeometry x="0.1" y="1" relative="1" as="geometry">
            <mxPoint x="50" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow4" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#666666;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="s3-linked-service" target="pipeline" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="640" y="280" as="sourcePoint" />
            <mxPoint x="720" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow5" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#666666;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="blob-linked-service" target="pipeline" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="280" as="sourcePoint" />
            <mxPoint x="840" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow6" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#82b366;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="pipeline" target="copy-activity" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="780" y="380" as="sourcePoint" />
            <mxPoint x="780" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow6-label" value="Execute" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#82b366;" parent="arrow6" vertex="1" connectable="0">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="-21" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow7" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#ae4132;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="source-dataset" target="copy-activity" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="630" y="485" as="sourcePoint" />
            <mxPoint x="720" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow7-label" value="Source" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=9;fontColor=#ae4132;" parent="arrow7" vertex="1" connectable="0">
          <mxGeometry x="0.1" y="-1" relative="1" as="geometry">
            <mxPoint x="-11" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow8" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#ae4132;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="sink-dataset" target="copy-activity" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="910" y="485" as="sourcePoint" />
            <mxPoint x="840" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow8-label" value="Sink" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=9;fontColor=#ae4132;" parent="arrow8" vertex="1" connectable="0">
          <mxGeometry x="0.1" y="-1" relative="1" as="geometry">
            <mxPoint x="11" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow9" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#10739e;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="pipeline" target="azure-blob" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900" y="335" as="sourcePoint" />
            <mxPoint x="1120" y="346" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow9-label" value="3. Write CSV Files&lt;br&gt;Preserve Structure" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#10739e;" parent="arrow9" vertex="1" connectable="0">
          <mxGeometry x="0.05" y="-2" relative="1" as="geometry">
            <mxPoint x="-5" y="-17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;verticalAlign=top;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="80" y="650" width="380" height="120" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" value="&lt;b&gt;Legend&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="95" y="660" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend1" value="Manual Trigger: User initiates pipeline execution on-demand" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="95" y="690" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend2" value="Retry Policy: 4 automatic retry attempts on failure" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="95" y="710" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend3" value="Folder Structure: S3 folder hierarchy preserved in Blob Storage" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="95" y="730" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend4" value="Security: AWS Access Key + Secret stored securely in Azure Key Vault" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="95" y="750" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="notes-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;verticalAlign=top;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="540" y="650" width="480" height="120" as="geometry" />
        </mxCell>
        <mxCell id="notes-title" value="&lt;b&gt;Implementation Notes&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="555" y="660" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="note1" value="1. Store AWS credentials in Key Vault as secrets before pipeline execution" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="555" y="685" width="450" height="20" as="geometry" />
        </mxCell>
        <mxCell id="note2" value="2. Configure Copy Activity with &#39;Preserve hierarchy&#39; to maintain folder structure" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="555" y="705" width="450" height="20" as="geometry" />
        </mxCell>
        <mxCell id="note3" value="3. Set retry count to 4 with exponential backoff in pipeline settings" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="555" y="725" width="450" height="20" as="geometry" />
        </mxCell>
        <mxCell id="note4" value="4. Monitor pipeline runs through Azure Monitor for success/failure tracking" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="555" y="745" width="450" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
